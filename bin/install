#!/usr/bin/env bash

printf "Installing cleancode\n";

GIT_PATH=$(git rev-parse --show-toplevel);
FILENAME=cleancode.yml
CONFIG_PATH=$GIT_PATH/$FILENAME;

printf "Copying configuration file to $CONFIG_PATH\n";

#eval $(./exportconfig $1)

printf "Setting up git hook\n";

DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
CONTENT=$(cat $DIR/../pre-commit);
printf "#!/usr/bin/env bash\n$content" > $GIT_PATH/.git/hooks/pre-commit

printf "Installation complete\n";